-- ポケモン管理システムの基本データ投入
-- 初学者向け：学習用として最低限のポケモンと技データを用意

-- 基本的な技データの投入
INSERT INTO moves (move_id, name, name_en, type, category, power, accuracy, pp, description) VALUES
-- ノーマル技
(1, 'たいあたり', 'Tackle', 'ノーマル', '物理', 40, 100, 35, '全身で相手にぶつかって攻撃する。'),
(2, 'ひっかく', 'Scratch', 'ノーマル', '物理', 40, 100, 35, '硬くとがったツメで相手をひっかいて攻撃する。'),
(3, 'なきごえ', 'Growl', 'ノーマル', '変化', NULL, 100, 40, 'かわいくなきどほえて気をひき相手の攻撃を下げる。'),

-- でんき技
(4, 'でんきショック', 'Thunder Shock', 'でんき', '特殊', 40, 100, 30, '電気の刺激で相手を攻撃する。まひ状態にすることがある。'),
(5, '10まんボルト', 'Thunderbolt', 'でんき', '特殊', 90, 100, 15, '強い電気を相手に放電して攻撃する。まひ状態にすることがある。'),
(6, 'でんじは', 'Thunder Wave', 'でんき', '変化', NULL, 90, 20, '弱い電気を放って相手をまひ状態にする。'),

-- ほのお技
(7, 'ひのこ', 'Ember', 'ほのお', '特殊', 40, 100, 25, '小さな炎を相手に放って攻撃する。やけど状態にすることがある。'),
(8, 'かえんほうしゃ', 'Flamethrower', 'ほのお', '特殊', 90, 100, 15, '激しい炎を相手に放って攻撃する。やけど状態にすることがある。'),

-- みず技
(9, 'みずでっぽう', 'Water Gun', 'みず', '特殊', 40, 100, 25, '水を勢いよく相手に発射して攻撃する。'),
(10, 'バブルこうせん', 'Bubble Beam', 'みず', '特殊', 65, 100, 20, '泡を勢いよく相手に発射して攻撃する。'),

-- くさ技
(11, 'はっぱカッター', 'Razor Leaf', 'くさ', '物理', 55, 95, 25, 'はっぱを飛ばして相手を切りつけて攻撃する。'),
(12, 'つるのムチ', 'Vine Whip', 'くさ', '物理', 45, 100, 25, 'つるのようなムチを相手にぶつけて攻撃する。');

-- ポケモン種族データの投入
INSERT INTO pokemon_species (species_id, name, name_en, type1, type2, base_hp, base_attack, base_defense, base_sp_attack, base_sp_defense, base_speed, description) VALUES
-- 御三家ポケモン
(1, 'フシギダネ', 'Bulbasaur', 'くさ', 'どく', 45, 49, 49, 65, 65, 45, 'たねポケモン。背中の種から栄養を取って体が大きくなる。'),
(4, 'ヒトカゲ', 'Charmander', 'ほのお', NULL, 39, 52, 43, 60, 50, 65, 'とかげポケモン。しっぽの炎で体温を調節している。'),
(7, 'ゼニガメ', 'Squirtle', 'みず', NULL, 44, 48, 65, 50, 64, 43, 'かめのこポケモン。甲羅に手足を引っ込めて身を守る。'),

-- ピカチュウ
(25, 'ピカチュウ', 'Pikachu', 'でんき', NULL, 35, 55, 40, 50, 50, 90, 'ねずみポケモン。頬の電気袋に電気をためている。'),

-- その他の基本ポケモン
(19, 'コラッタ', 'Rattata', 'ノーマル', NULL, 30, 56, 35, 25, 35, 72, 'ねずみポケモン。警戒心が強く人前にはなかなか姿を現さない。'),
(16, 'ポッポ', 'Pidgey', 'ノーマル', 'ひこう', 40, 45, 40, 35, 35, 56, 'ことりポケモン。砂をかけて相手の目を見えなくして逃げる。');

-- 種族習得技の設定（レベルアップで覚える技）
INSERT INTO species_moves (species_id, move_id, learn_level, learn_method) VALUES
-- フシギダネの習得技
(1, 1, 1, 'レベルアップ'),  -- たいあたり
(1, 3, 3, 'レベルアップ'),  -- なきごえ
(1, 12, 7, 'レベルアップ'), -- つるのムチ
(1, 11, 13, 'レベルアップ'), -- はっぱカッター

-- ヒトカゲの習得技
(4, 2, 1, 'レベルアップ'),  -- ひっかく
(4, 3, 5, 'レベルアップ'),  -- なきごえ
(4, 7, 9, 'レベルアップ'),  -- ひのこ
(4, 8, 15, 'レベルアップ'), -- かえんほうしゃ

-- ゼニガメの習得技
(7, 1, 1, 'レベルアップ'),  -- たいあたり
(7, 9, 4, 'レベルアップ'),  -- みずでっぽう
(7, 10, 10, 'レベルアップ'), -- バブルこうせん

-- ピカチュウの習得技
(25, 4, 1, 'レベルアップ'),  -- でんきショック
(25, 3, 5, 'レベルアップ'),  -- なきごえ
(25, 6, 9, 'レベルアップ'),  -- でんじは
(25, 5, 15, 'レベルアップ'), -- 10まんボルト

-- コラッタの習得技
(19, 1, 1, 'レベルアップ'),  -- たいあたり
(19, 2, 4, 'レベルアップ'),  -- ひっかく

-- ポッポの習得技
(16, 1, 1, 'レベルアップ'),  -- たいあたり
(16, 3, 5, 'レベルアップ');  -- なきごえ

-- 各プレイヤー用のデフォルトボックス作成トリガー
-- 初学者向け：プレイヤー作成時に自動的にボックスを作成するためのトリガー
CREATE TRIGGER IF NOT EXISTS create_default_boxes_for_new_player
AFTER INSERT ON players
FOR EACH ROW
BEGIN
  -- プレイヤー作成時にボックス1〜8を自動作成
  INSERT INTO pokemon_boxes (box_id, player_id, name, box_number) VALUES
    (NEW.id || '_box_1', NEW.id, 'ボックス1', 1),
    (NEW.id || '_box_2', NEW.id, 'ボックス2', 2),
    (NEW.id || '_box_3', NEW.id, 'ボックス3', 3),
    (NEW.id || '_box_4', NEW.id, 'ボックス4', 4),
    (NEW.id || '_box_5', NEW.id, 'ボックス5', 5),
    (NEW.id || '_box_6', NEW.id, 'ボックス6', 6),
    (NEW.id || '_box_7', NEW.id, 'ボックス7', 7),
    (NEW.id || '_box_8', NEW.id, 'ボックス8', 8);
END;